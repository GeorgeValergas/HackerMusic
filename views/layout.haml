!!!
%html
  %head
    %title Hacker Music
    %link{:rel => 'stylesheet', :type => 'text/css', :href => '/style/hm.css'}
    %script{:src => '/script/jquery-1.3.2.js'}
    %script{:src => '/script/hm.js'}
  %body
    %h1 Hacker Music
    - if(!@notice.nil?)
      %h2=@notice
    - if(@current_song)
      %h3= "Now Playing: #{@current_song[:title]} by #{@current_song[:artist]}"
    - if(@user.nil?)
      %form{:action => '/login', :method => 'post'}
        Username:
        %input{:type => 'text', :name => 'login'}
        Password:
        %input{:type => 'password', :name => 'password'}
        %input{:type => 'submit', :value => 'Log In'}
    - else
      %a{:href => '/logout'} Log out
      |
      %a{:href => '/change'} Change Password
      |
      %a{:href => '/cancel'} Clear My Vote
    .search
      %form{:id => 'search'}
        %input{:type => 'text', :name => 'q', :id => 'q', :size => '71'}
        %input{:type => 'submit', :name=>'go', :value => 'Search', :id => 'searchbutton'}
    .browse
      Browse By:
      %a{:href => '/title'} Title
      %a{:href => '/artist'} Artist
      %a{:href => '/genre'} Genre
      %a{:href => '/album'} Album
      %a{:href => '/year'} Year
    .right
      %h2 Upcoming:
      %ul
        - @upcoming.each do |song|
          %li
            %a{:href => "/vote/#{song[:song_id]}"}= song[:title]
            =' (' + song[:cnt] + ')'
          %small= 'By: ' + song[:artist]
    #main
      =yield
    - session[:notice] = ''